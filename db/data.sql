create database project;
use project;

CREATE TABLE theater (
    TheaterID INT PRIMARY KEY,
    Name VARCHAR(255),
    Location VARCHAR(255),
    TotalSeats INT
);

CREATE TABLE screen (
    ScreenID INT PRIMARY KEY,
    ScreenNumber VARCHAR(255),
    TotalSeats INT,
    TheaterID INT,
    FOREIGN KEY (TheaterID) REFERENCES theater(TheaterID)
);

CREATE TABLE movie (
    MovieID INT PRIMARY KEY,
    Title VARCHAR(255),
    Genre1 VARCHAR(255),
    Genre2 VARCHAR(255),
    Duration INT,
    ReleaseDate DATE,
    Language VARCHAR(255),
    Rating DECIMAL(2,1)
);

CREATE TABLE shows (
    ShowID INT PRIMARY KEY,
    ShowTime DATETIME,
    Date DATE,
    ScreenID INT,
    MovieID INT,
    FOREIGN KEY (ScreenID) REFERENCES screen(ScreenID),
    FOREIGN KEY (MovieID) REFERENCES movie(MovieID)
);

CREATE TABLE user (
    UserID INT PRIMARY KEY,
    Name VARCHAR(255),
    Email VARCHAR(255),
    PhoneNumber VARCHAR(20),
    Password VARCHAR(255)
);

CREATE TABLE booking (
    BookingID INT PRIMARY KEY,
    UserID INT,
    ShowID INT,
    BookingDate DATETIME,
    TotalSeats INT,
    TotalPrice DECIMAL(10,2),
    FOREIGN KEY (UserID) REFERENCES user(UserID),
    FOREIGN KEY (ShowID) REFERENCES shows(ShowID)
);

CREATE TABLE payment (
    PaymentID INT PRIMARY KEY,
    BookingID INT,
    PaymentDate DATETIME,
    PaymentMode VARCHAR(255),
    PaymentStatus VARCHAR(255),
    AmountPaid DECIMAL(10,2),
    FOREIGN KEY (BookingID) REFERENCES booking(BookingID)
);

CREATE TABLE seat (
    SeatID INT PRIMARY KEY,
    SeatNumber VARCHAR(255),
    BookingID INT,
    ScreenID INT,
    Status VARCHAR(255),
    FOREIGN KEY (BookingID) REFERENCES booking(BookingID),
    FOREIGN KEY (ScreenID) REFERENCES screen(ScreenID)
);

desc seat;

INSERT INTO theater (TheaterID, Name, Location, TotalSeats)
VALUES
(1, 'PVR Ampa Mall', 'Adyar,Chennai', 490),
(2, 'PVR INOX', 'Shenoy Nagar,Chennai', 500),
(3, 'PVR Grand Mall', 'Velachery,Chennai', 470);


INSERT INTO movie (MovieID, Title, Genre1,Genre2, Duration, ReleaseDate, Language, Rating)
VALUES
(101, 'Django', 'Western','Action', 165, '2013-03-22', 'English', 8.5),
(102, 'Dune 2', 'Supernatural','Thriller', 166, '2024-03-01', 'English', 8.5),
(103, 'Shawshank Redemption', 'Supernatural','Thriller', 142, '1994-10-14', 'English', 9.3),
(104, 'Interstellar', 'Sci-fi','Adventure', 170, '2014-11-1', 'English', 8.7);

INSERT INTO user (UserID, Name, Email, PhoneNumber, Password)
VALUES
(11, 'Sai Kumar', 'sai.kumar@gmail.com', '7896543210', '*%*7*6!#k*5!!!V'),
(3, 'Vansh Mehta', 'vansh.mehta@gmail.com', '8112345678', '$j!!!!8l%'),
(8, 'Kiara Singh', 'kiara.singh@gmail.com', '8223456789', '01&%k*%2**m!7'),
(22, 'Anaya Joshi', 'anaya.joshi@gmail.com', '8345678901', 'F0!$0#h5**%170n'),
(10, 'Arjun Reddy', 'arjun.reddy@gmail.com', '8654321098', '!t8*!E0Qz!FZ%o'),
(31, 'Aditya Verma', 'aditya.verma@gmail.com', '8765432109', '**Z&#*8*F7'),
(4, 'Vivaan Sharma', 'vivaan.sharma@gmail.com', '9123456789', '8x*Wz!!*7G4i!OV&'),
(1, 'Vihaan Gupta', 'vihaan.gupta@gmail.com', '9301234567', 'uJ#f%*0S!'),
(2, 'Aarav Patel', 'aarav.patel@gmail.com', '9876543210', '1v&n!Fo!b%a%2'),
(14, 'Revanth Reddy', 'revanth.reddy@gmail.com', '9988776655', '4h#!!j5!$');

INSERT INTO screen (ScreenID, ScreenNumber, TotalSeats, TheaterID)
VALUES
(1, 'S-1', 414, 1),
(2, 'S-2', 414, 1),
(3, 'S-3', 414, 1),
(4, 'S-4', 414, 1),
(5, 'S-5', 414, 1),
(6, 'S-6', 414, 1),
(7, 'S-7', 414, 1),
(8, 'S-8', 414, 1),
(9, 'S-9', 414, 1),
(10, 'S-10', 414, 1),
(11, 'S-11', 414, 1),
(12, 'S-12', 414, 1),
(13, 'S-1', 414, 2),
(14, 'S-2', 414, 2),
(15, 'S-3', 414, 2),
(16, 'S-4', 414, 2),
(17, 'S-5', 414, 2),
(18, 'S-6', 414, 2),
(19, 'S-7', 414, 2),
(20, 'S-8', 414, 2),
(21, 'S-9', 414, 2),
(22, 'S-10', 414, 2),
(23, 'S-11', 414, 2),
(24, 'S-12', 414, 2),
(25, 'S-1', 414, 3),
(26, 'S-2', 414, 3),
(27, 'S-3', 414, 3),
(28, 'S-4', 414, 3),
(29, 'S-5', 414, 3),
(30, 'S-6', 414, 3),
(31, 'S-7', 414, 3),
(32, 'S-8', 414, 3),
(33, 'S-9', 414, 3),
(34, 'S-10', 414, 3),
(35, 'S-11', 414, 3),
(36, 'S-12', 414, 3);

INSERT INTO shows (ShowID, ShowTime, Date, ScreenID, MovieID)
VALUES
(1, '2025-03-21 09:00:00', '2025-03-21', 28, 101),
(9, '2025-03-21 09:00:00', '2025-03-21', 36, 104),
(22, '2025-03-21 09:00:00', '2025-03-21', 3, 101),
(24, '2025-03-21 09:00:00', '2025-03-21', 32, 104),
(30, '2025-03-21 09:00:00', '2025-03-21', 5, 101),
(32, '2025-03-21 09:00:00', '2025-03-21', 6, 102),
(34, '2025-03-21 09:00:00', '2025-03-21', 11, 104),
(38, '2025-03-21 09:00:00', '2025-03-21', 12, 101),
(5, '2025-03-21 13:00:00', '2025-03-21', 30, 104),
(6, '2025-03-21 13:00:00', '2025-03-21', 10, 101),
(11, '2025-03-21 13:00:00', '2025-03-21', 16, 103),
(13, '2025-03-21 13:00:00', '2025-03-21', 12, 102),
(17, '2025-03-21 13:00:00', '2025-03-21', 14, 102),
(21, '2025-03-21 13:00:00', '2025-03-21', 20, 103),
(46, '2025-03-21 13:00:00', '2025-03-21', 9, 101),
(15, '2025-03-21 18:00:00', '2025-03-21', 19, 101),
(23, '2025-03-21 18:00:00', '2025-03-21', 31, 102),
(25, '2025-03-21 18:00:00', '2025-03-21', 4, 101),
(29, '2025-03-21 18:00:00', '2025-03-21', 13, 103),
(36, '2025-03-21 18:00:00', '2025-03-21', 29, 101),
(39, '2025-03-21 18:00:00', '2025-03-21', 13, 104),
(40, '2025-03-21 18:00:00', '2025-03-21', 30, 102),
(20, '2025-03-22 09:00:00', '2025-03-22', 22, 103),
(26, '2025-03-22 09:00:00', '2025-03-22', 1, 102),
(33, '2025-03-22 09:00:00', '2025-03-22', 17, 102),
(42, '2025-03-22 09:00:00', '2025-03-22', 31, 101),
(43, '2025-03-22 09:00:00', '2025-03-22', 19, 104),
(44, '2025-03-22 09:00:00', '2025-03-22', 16, 102),
(16, '2025-03-22 13:00:00', '2025-03-22', 34, 104),
(18, '2025-03-22 13:00:00', '2025-03-22', 25, 104),
(28, '2025-03-22 13:00:00', '2025-03-22', 26, 103),
(10, '2025-03-22 18:00:00', '2025-03-22', 9, 101),
(3, '2025-03-23 09:00:00', '2025-03-23', 2, 104),
(4, '2025-03-23 09:00:00', '2025-03-23', 33, 103),
(35, '2025-03-23 09:00:00', '2025-03-23', 27, 103),
(37, '2025-03-23 09:00:00', '2025-03-23', 24, 103),
(50, '2025-03-23 09:00:00', '2025-03-23', 26, 102),
(7, '2025-03-23 13:00:00', '2025-03-23', 24, 103),
(8, '2025-03-23 13:00:00', '2025-03-23', 23, 102),
(12, '2025-03-23 13:00:00', '2025-03-23', 8, 102),
(14, '2025-03-23 13:00:00', '2025-03-23', 7, 103),
(19, '2025-03-23 13:00:00', '2025-03-23', 15, 101),
(41, '2025-03-23 13:00:00', '2025-03-23', 15, 103),
(45, '2025-03-23 13:00:00', '2025-03-23', 29, 104),
(49, '2025-03-23 13:00:00', '2025-03-23', 11, 103),
(2, '2025-03-23 18:00:00', '2025-03-23', 35, 102),
(27, '2025-03-23 18:00:00', '2025-03-23', 21, 104),
(31, '2025-03-23 18:00:00', '2025-03-23', 18, 104),
(47, '2025-03-23 18:00:00', '2025-03-23', 25, 103),
(48, '2025-03-23 18:00:00', '2025-03-23', 3, 102);

INSERT INTO booking (BookingID, UserID, ShowID, BookingDate, TotalSeats, TotalPrice)
VALUES
(47, 11, 19, '2025-02-04 01:59:43', 1, 190.23),
(14, 22, 43, '2024-07-12 18:59:56', 5, 951.17),
(20, 14, 2, '2024-05-06 01:41:40', 8, 1521.87),
(3, 31, 26, '2024-12-26 08:32:13', 6, 1141.40),
(50, 4, 1, '2024-05-02 05:53:20', 9, 1712.11),
(17, 1, 12, '2024-09-23 11:43:58', 1, 190.23),
(22, 14, 5, '2025-01-16 01:33:28', 1, 190.23),
(34, 22, 47, '2024-03-15 14:02:46', 9, 1712.11),
(1, 22, 8, '2024-05-28 18:02:33', 4, 760.94),
(31, 2, 10, '2024-09-11 19:49:22', 5, 951.17),
(11, 4, 38, '2024-10-21 22:22:01', 4, 760.94),
(45, 8, 11, '2024-04-01 20:25:27', 9, 1712.11),
(49, 10, 32, '2024-05-16 10:38:47', 2, 380.47),
(44, 3, 29, '2024-05-10 07:36:14', 2, 380.47),
(33, 31, 46, '2024-04-06 17:16:44', 3, 570.70),
(26, 10, 42, '2024-07-25 14:10:17', 3, 570.70),
(15, 8, 9, '2024-12-22 19:12:13', 1, 190.23),
(7, 11, 48, '2024-03-13 07:39:55', 6, 1141.40),
(6, 1, 39, '2024-06-01 08:57:24', 8, 1521.87),
(42, 14, 27, '2024-12-19 12:11:11', 7, 1331.64),
(10, 4, 41, '2024-05-23 20:46:50', 7, 1331.64),
(27, 8, 24, '2024-12-28 01:48:13', 5, 951.17),
(4, 3, 21, '2024-11-25 08:07:32', 9, 1712.11),
(2, 14, 3, '2024-10-20 10:37:22', 7, 1331.64),
(37, 4, 44, '2024-10-08 09:43:07', 4, 760.94),
(23, 1, 15, '2024-10-24 20:33:21', 2, 380.47),
(21, 22, 45, '2024-11-28 09:20:01', 6, 1141.40),
(48, 2, 49, '2024-12-24 23:46:15', 5, 951.17),
(32, 8, 28, '2024-06-25 01:15:22', 4, 760.94),
(39, 10, 16, '2024-09-18 05:15:51', 6, 1141.40),
(24, 31, 4, '2024-12-24 09:12:43', 4, 760.94),
(28, 11, 14, '2024-07-27 06:55:26', 9, 1712.11),
(8, 2, 31, '2024-11-16 11:12:17', 7, 1331.64),
(46, 1, 13, '2024-08-23 11:25:43', 9, 1712.11),
(9, 10, 7, '2025-01-27 00:22:24', 9, 1712.11),
(30, 2, 23, '2024-08-29 23:18:23', 3, 570.70),
(36, 11, 37, '2025-01-12 16:43:26', 9, 1712.11),
(29, 4, 22, '2025-02-10 06:32:07', 4, 760.94),
(25, 3, 18, '2024-07-21 18:00:34', 3, 570.70),
(19, 10, 33, '2024-06-07 22:25:02', 3, 570.70),
(40, 14, 35, '2024-07-06 01:14:54', 2, 380.47),
(13, 3, 30, '2024-04-07 06:26:02', 8, 1521.87),
(41, 22, 25, '2025-01-08 09:31:24', 2, 380.47),
(16, 11, 17, '2024-04-08 07:51:04', 6, 1141.40),
(38, 3, 40, '2024-06-10 18:41:30', 7, 1331.64),
(18, 2, 6, '2024-11-21 18:33:23', 3, 570.70),
(5, 8, 36, '2024-04-09 18:34:20', 2, 380.47),
(12, 31, 50, '2024-03-27 08:03:50', 8, 1521.87),
(43, 31, 34, '2024-09-01 05:01:46', 7, 1331.64),
(35, 1, 20, '2024-11-06 17:19:55', 4, 760.94);

INSERT INTO payment (PaymentID, BookingID, PaymentDate, PaymentMode, PaymentStatus, AmountPaid)
VALUES
(1, 22, '2024-09-01 12:16:53', 'Credit Card', 'Pending', 0.00),
(2, 2, '2024-07-03 01:56:28', 'Net Banking', 'Refunded', -380.47),
(3, 39, '2024-06-23 08:07:18', 'Cash', 'Refunded', -1141.40),
(4, 5, '2025-03-02 06:05:22', 'Cash', 'Failed', 0.00),
(5, 16, '2025-01-24 10:38:04', 'UPI', 'Failed', 0.00),
(6, 35, '2024-04-21 06:09:41', 'Debit Card', 'Refunded', -760.94),
(7, 30, '2025-02-26 12:08:43', 'UPI', 'Refunded', -570.70),
(8, 14, '2025-01-12 11:48:57', 'Cash', 'Refunded', -951.17),
(9, 21, '2024-03-30 23:45:51', 'Cash', 'Refunded', -1141.40),
(10, 43, '2024-06-02 11:48:15', 'Cash', 'Refunded', -1331.64),
(11, 12, '2024-05-19 03:12:52', 'UPI', 'Refunded', -1521.87),
(12, 44, '2024-08-14 06:46:36', 'Cash', 'Refunded', -380.47),
(13, 26, '2024-11-05 01:41:56', 'UPI', 'Refunded', -570.70),
(14, 27, '2024-05-08 07:39:51', 'Cash', 'Refunded', -951.17),
(15, 47, '2024-12-31 23:28:20', 'Cash', 'Failed', 0.00),
(16, 29, '2024-03-29 06:01:59', 'Net Banking', 'Refunded', -760.94),
(17, 13, '2024-10-15 08:35:37', 'Cash', 'Pending', 0.00),
(18, 36, '2025-02-03 15:00:58', 'Debit Card', 'Pending', 0.00),
(19, 45, '2025-02-18 09:33:33', 'Credit Card', 'Completed', 1712.11),
(20, 48, '2024-11-16 21:39:18', 'UPI', 'Completed', 951.17),
(21, 9, '2024-03-10 09:24:58', 'Credit Card', 'Failed', 0.00),
(22, 4, '2025-02-07 18:50:56', 'Debit Card', 'Completed', 1712.11),
(23, 28, '2025-01-13 05:00:57', 'Debit Card', 'Completed', 1712.11),
(24, 40, '2024-04-15 18:49:35', 'Debit Card', 'Completed', 380.47),
(25, 10, '2024-08-17 08:45:35', 'UPI', 'Pending', 0.00),
(26, 46, '2024-11-10 07:01:20', 'Net Banking', 'Failed', 0.00),
(27, 34, '2024-05-03 15:33:59', 'UPI', 'Completed', 1712.11),
(28, 42, '2025-01-07 04:23:06', 'Debit Card', 'Refunded', -1331.64),
(29, 31, '2024-10-28 23:31:57', 'UPI', 'Refunded', -951.17),
(30, 49, '2024-10-20 17:23:46', 'Credit Card', 'Refunded', -380.47),
(31, 38, '2024-09-12 06:04:16', 'UPI', 'Refunded', -1331.64),
(32, 18, '2024-06-24 03:28:34', 'Net Banking', 'Failed', 0.00),
(33, 6, '2024-04-15 18:39:13', 'Debit Card', 'Refunded', -1521.87),
(34, 19, '2024-06-11 02:57:15', 'Debit Card', 'Pending', 0.00),
(35, 33, '2024-12-31 17:04:19', 'Cash', 'Completed', 570.70),
(36, 8, '2024-12-15 10:37:24', 'Net Banking', 'Failed', 0.00),
(37, 50, '2024-11-03 15:12:41', 'Cash', 'Pending', 0.00),
(38, 7, '2024-10-29 13:51:09', 'Cash', 'Pending', 0.00),
(39, 32, '2024-03-20 13:21:36', 'Cash', 'Pending', 0.00),
(40, 3, '2025-02-16 16:34:18', 'Credit Card', 'Failed', 0.00),
(41, 37, '2024-05-22 05:37:33', 'Net Banking', 'Refunded', -760.94),
(42, 17, '2024-05-23 00:04:03', 'UPI', 'Refunded', -190.23),
(43, 1, '2025-02-19 15:05:18', 'Debit Card', 'Refunded', -760.94),
(44, 24, '2024-08-03 05:13:42', 'UPI', 'Failed', 0.00),
(45, 41, '2024-09-02 03:57:47', 'Credit Card', 'Pending', 0.00),
(46, 15, '2024-11-15 01:02:24', 'Credit Card', 'Completed', 190.23),
(47, 23, '2025-02-18 07:35:29', 'Credit Card', 'Completed', 380.47),
(48, 11, '2024-11-09 00:54:49', 'Net Banking', 'Pending', 0.00),
(49, 25, '2024-10-17 08:35:58', 'Cash', 'Completed', 570.70),
(50, 20, '2024-10-16 06:01:00', 'Net Banking', 'Completed', 1521.87);

INSERT INTO seat (SeatID, SeatNumber, BookingID, ScreenID, Status)
VALUES
(1, 'N13', 34, 14, 'Booked'),
(2, 'C02', 8, 3, 'Booked'),
(3, 'H12', 21, 17, 'Available'),
(4, 'Q13', 31, 32, 'Available'),
(5, 'N07', 26, 9, 'Booked'),
(6, 'S12', 28, 21, 'Available'),
(7, 'J16', 41, 10, 'Available'),
(8, 'E02', 10, 13, 'Available'),
(9, 'N13', 30, 22, 'Booked'),
(10, 'F05', 43, 23, 'Available'),
(11, 'D17', 7, 12, 'Booked'),
(12, 'U10', 17, 6, 'Available'),
(13, 'U15', 50, 34, 'Booked'),
(14, 'I07', 6, 27, 'Booked'),
(15, 'L04', 23, 33, 'Available'),
(16, 'J09', 27, 1, 'Booked'),
(17, 'D16', 46, 8, 'Booked'),
(18, 'H02', 33, 29, 'Booked'),
(19, 'V01', 12, 31, 'Available'),
(20, 'C11', 45, 2, 'Available'),
(21, 'P18', 19, 4, 'Booked'),
(22, 'S12', 4, 25, 'Available'),
(23, 'U10', 25, 28, 'Booked'),
(24, 'L14', 1, 18, 'Booked'),
(25, 'F16', 22, 35, 'Available'),
(26, 'O08', 18, 30, 'Available'),
(27, 'R16', 5, 26, 'Available'),
(28, 'D06', 48, 24, 'Booked'),
(29, 'K08', 49, 20, 'Available'),
(30, 'V01', 35, 19, 'Available'),
(31, 'J02', 3, 5, 'Available'),
(32, 'N14', 47, 7, 'Available'),
(33, 'F12', 37, 15, 'Available'),
(34, 'E10', 24, 36, 'Booked'),
(35, 'W09', 40, 16, 'Available'),
(36, 'L03', 15, 11, 'Available'),
(37, 'R03', 16, 1, 'Available'),
(38, 'K14', 36, 29, 'Booked'),
(39, 'F15', 11, 12, 'Available'),
(40, 'D13', 38, 7, 'Booked'),
(41, 'U17', 9, 10, 'Available'),
(42, 'V01', 39, 2, 'Booked'),
(43, 'C17', 13, 33, 'Available'),
(44, 'M16', 42, 14, 'Booked'),
(45, 'T08', 44, 15, 'Available'),
(46, 'A05', 14, 5, 'Booked'),
(47, 'L16', 29, 23, 'Available'),
(48, 'A11', 2, 31, 'Booked'),
(49, 'C01', 32, 24, 'Available'),
(50, 'M10', 20, 18, 'Available');

select * from payment;

select * from screen;

